import{i as K,j as W,_ as q,k as Y,l as Q,w as M,o as h,a as t,d as U,c as p,f as B,b,e as j,T as H,g as y,v as k,m as X,p as O,t as E,q as x,s as F,u as V,x as N,y as R,n as Z,F as L,r as I,h as G,U as J}from"./maska-56694722.js";import{c as z,a as C,b as S}from"./index.esm-67b35cd1.js";(()=>{var a={792:(n,e,c)=>{c.d(e,{Z:()=>v});var m=c(609),s=c.n(m)()(function(_){return _[1]});s.push([n.id,':host{--divider-width: 1px;--divider-color: #fff;--divider-shadow: none;--default-handle-width: 50px;--default-handle-color: #fff;--default-handle-opacity: 1;--default-handle-shadow: none;--handle-position-start: 50%;position:relative;display:inline-block;overflow:hidden;line-height:0;direction:ltr}@media screen and (-webkit-min-device-pixel-ratio: 0)and (min-resolution: 0.001dpcm){:host{outline-offset:1px}}:host(:focus){outline:2px solid -webkit-focus-ring-color}::slotted(*){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.first{position:absolute;left:0;top:0;right:0;line-height:normal;font-size:100%;max-height:100%;height:100%;width:100%;--exposure: 50%;--keyboard-transition-time: 0ms;--default-transition-time: 0ms;--transition-time: var(--default-transition-time)}.first .first-overlay-container{position:relative;clip-path:inset(0 var(--exposure) 0 0);transition:clip-path var(--transition-time);height:100%}.first .first-overlay{overflow:hidden;height:100%}.first.focused{will-change:clip-path}.first.focused .first-overlay-container{will-change:clip-path}.second{position:relative}.handle-container{transform:translateX(50%);position:absolute;top:0;right:var(--exposure);height:100%;transition:right var(--transition-time),bottom var(--transition-time)}.focused .handle-container{will-change:right}.divider{position:absolute;height:100%;width:100%;left:0;top:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.divider:after{content:" ";display:block;height:100%;border-left-width:var(--divider-width);border-left-style:solid;border-left-color:var(--divider-color);box-shadow:var(--divider-shadow)}.handle{position:absolute;top:var(--handle-position-start);pointer-events:none;box-sizing:border-box;margin-left:1px;transform:translate(calc(-50% - 0.5px), -50%);line-height:0}.default-handle{width:var(--default-handle-width);opacity:var(--default-handle-opacity);transition:all 1s;filter:drop-shadow(var(--default-handle-shadow))}.default-handle path{stroke:var(--default-handle-color)}.vertical .first-overlay-container{clip-path:inset(0 0 var(--exposure) 0)}.vertical .handle-container{transform:translateY(50%);height:auto;top:unset;bottom:var(--exposure);width:100%;left:0;flex-direction:row}.vertical .divider:after{height:1px;width:100%;border-top-width:var(--divider-width);border-top-style:solid;border-top-color:var(--divider-color);border-left:0}.vertical .handle{top:auto;left:var(--handle-position-start);transform:translate(calc(-50% - 0.5px), -50%) rotate(90deg)}',""]);const v=s},609:n=>{n.exports=function(e){var c=[];return c.toString=function(){return this.map(function(m){var s=e(m);return m[2]?"@media ".concat(m[2]," {").concat(s,"}"):s}).join("")},c.i=function(m,s,v){typeof m=="string"&&(m=[[null,m,""]]);var _={};if(v)for(var w=0;w<this.length;w++){var D=this[w][0];D!=null&&(_[D]=!0)}for(var o=0;o<m.length;o++){var l=[].concat(m[o]);v&&_[l[0]]||(s&&(l[2]?l[2]="".concat(s," and ").concat(l[2]):l[2]=s),c.push(l))}},c}}},i={};function r(n){var e=i[n];if(e!==void 0)return e.exports;var c=i[n]={id:n,exports:{}};return a[n](c,c.exports,r),c.exports}r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var c in e)r.o(e,c)&&!r.o(n,c)&&Object.defineProperty(n,c,{enumerable:!0,get:e[c]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=r(792);const e="rendered",c=(o,l)=>{const d=o.getBoundingClientRect();let u,g;return l.type==="mousedown"?(u=l.clientX,g=l.clientY):(u=l.touches[0].clientX,g=l.touches[0].clientY),u>=d.x&&u<=d.x+d.width&&g>=d.y&&g<=d.y+d.height};let m;const s={ArrowLeft:-1,ArrowRight:1},v=["horizontal","vertical"],_=o=>({x:o.touches[0].pageX,y:o.touches[0].pageY}),w=o=>({x:o.pageX,y:o.pageY}),D=typeof window<"u"&&(window==null?void 0:window.HTMLElement);typeof window<"u"&&(window.document&&(m=document.createElement("template"),m.innerHTML='<div class="second" id="second"> <slot name="second"><slot name="before"></slot></slot> </div> <div class="first" id="first"> <div class="first-overlay"> <div class="first-overlay-container" id="firstImageContainer"> <slot name="first"><slot name="after"></slot></slot> </div> </div> <div class="handle-container"> <div class="divider"></div> <div class="handle" id="handle"> <slot name="handle"> <svg xmlns="http://www.w3.org/2000/svg" class="default-handle" viewBox="-8 -3 16 6"> <path d="M -5 -2 L -7 0 L -5 2 M 5 -2 L 7 0 L 5 2" fill="none" vector-effect="non-scaling-stroke"/> </svg> </slot> </div> </div> </div> '),window.customElements.define("img-comparison-slider",class extends D{constructor(){super(),this.exposure=this.hasAttribute("value")?parseFloat(this.getAttribute("value")):50,this.slideOnHover=!1,this.slideDirection="horizontal",this.keyboard="enabled",this.isMouseDown=!1,this.animationDirection=0,this.isFocused=!1,this.dragByHandle=!1,this.onMouseMove=d=>{if(this.isMouseDown||this.slideOnHover){const u=w(d);this.slideToPage(u)}},this.bodyUserSelectStyle="",this.bodyWebkitUserSelectStyle="",this.onMouseDown=d=>{if(this.slideOnHover||this.handle&&!c(this.handleElement,d))return;d.preventDefault(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onWindowMouseUp),this.isMouseDown=!0,this.enableTransition();const u=w(d);this.slideToPage(u),this.focus(),this.bodyUserSelectStyle=window.document.body.style.userSelect,this.bodyWebkitUserSelectStyle=window.document.body.style.webkitUserSelect,window.document.body.style.userSelect="none",window.document.body.style.webkitUserSelect="none"},this.onWindowMouseUp=()=>{this.isMouseDown=!1,window.document.body.style.userSelect=this.bodyUserSelectStyle,window.document.body.style.webkitUserSelect=this.bodyWebkitUserSelectStyle,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onWindowMouseUp)},this.touchStartPoint=null,this.isTouchComparing=!1,this.hasTouchMoved=!1,this.onTouchStart=d=>{this.dragByHandle&&!c(this.handleElement,d)||(this.touchStartPoint=_(d),this.isFocused&&(this.enableTransition(),this.slideToPage(this.touchStartPoint)))},this.onTouchMove=d=>{if(this.touchStartPoint===null)return;const u=_(d);if(this.isTouchComparing)return this.slideToPage(u),d.preventDefault(),!1;if(!this.hasTouchMoved){const g=Math.abs(u.y-this.touchStartPoint.y),P=Math.abs(u.x-this.touchStartPoint.x);if(this.slideDirection==="horizontal"&&g<P||this.slideDirection==="vertical"&&g>P)return this.isTouchComparing=!0,this.focus(),this.slideToPage(u),d.preventDefault(),!1;this.hasTouchMoved=!0}},this.onTouchEnd=()=>{this.isTouchComparing=!1,this.hasTouchMoved=!1,this.touchStartPoint=null},this.onBlur=()=>{this.stopSlideAnimation(),this.isFocused=!1,this.firstElement.classList.remove("focused")},this.onFocus=()=>{this.isFocused=!0,this.firstElement.classList.add("focused")},this.onKeyDown=d=>{if(this.keyboard==="disabled")return;const u=s[d.key];this.animationDirection!==u&&u!==void 0&&(this.animationDirection=u,this.startSlideAnimation())},this.onKeyUp=d=>{if(this.keyboard==="disabled")return;const u=s[d.key];u!==void 0&&this.animationDirection===u&&this.stopSlideAnimation()},this.resetDimensions=()=>{this.imageWidth=this.offsetWidth,this.imageHeight=this.offsetHeight};const o=this.attachShadow({mode:"open"}),l=document.createElement("style");l.innerHTML=n.Z,this.getAttribute("nonce")&&l.setAttribute("nonce",this.getAttribute("nonce")),o.appendChild(l),o.appendChild(m.content.cloneNode(!0)),this.firstElement=o.getElementById("first"),this.handleElement=o.getElementById("handle")}set handle(o){this.dragByHandle=o.toString().toLowerCase()!=="false"}get handle(){return this.dragByHandle}get value(){return this.exposure}set value(o){const l=parseFloat(o);l!==this.exposure&&(this.exposure=l,this.enableTransition(),this.setExposure())}get hover(){return this.slideOnHover}set hover(o){this.slideOnHover=o.toString().toLowerCase()!=="false",this.removeEventListener("mousemove",this.onMouseMove),this.slideOnHover&&this.addEventListener("mousemove",this.onMouseMove)}get direction(){return this.slideDirection}set direction(o){this.slideDirection=o.toString().toLowerCase(),this.slide(0),this.firstElement.classList.remove(...v),v.includes(this.slideDirection)&&this.firstElement.classList.add(this.slideDirection)}static get observedAttributes(){return["hover","direction"]}connectedCallback(){this.hasAttribute("tabindex")||(this.tabIndex=0),this.addEventListener("dragstart",o=>(o.preventDefault(),!1)),new ResizeObserver(this.resetDimensions).observe(this),this.setExposure(0),this.keyboard=this.hasAttribute("keyboard")&&this.getAttribute("keyboard")==="disabled"?"disabled":"enabled",this.addEventListener("keydown",this.onKeyDown),this.addEventListener("keyup",this.onKeyUp),this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("touchstart",this.onTouchStart,{passive:!0}),this.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.addEventListener("touchend",this.onTouchEnd),this.addEventListener("mousedown",this.onMouseDown),this.handle=this.hasAttribute("handle")?this.getAttribute("handle"):this.dragByHandle,this.hover=this.hasAttribute("hover")?this.getAttribute("hover"):this.slideOnHover,this.direction=this.hasAttribute("direction")?this.getAttribute("direction"):this.slideDirection,this.resetDimensions(),this.classList.contains(e)||this.classList.add(e)}disconnectedCallback(){this.transitionTimer&&window.clearTimeout(this.transitionTimer)}attributeChangedCallback(o,l,d){o==="hover"&&(this.hover=d),o==="direction"&&(this.direction=d),o==="keyboard"&&(this.keyboard=d==="disabled"?"disabled":"enabled")}setExposure(o=0){var l;this.exposure=(l=this.exposure+o)<0?0:l>100?100:l,this.firstElement.style.setProperty("--exposure",100-this.exposure+"%")}slide(o=0){this.setExposure(o);const l=new Event("slide");this.dispatchEvent(l)}slideToPage(o){this.slideDirection==="horizontal"&&this.slideToPageX(o.x),this.slideDirection==="vertical"&&this.slideToPageY(o.y)}slideToPageX(o){const l=o-this.getBoundingClientRect().left-window.scrollX;this.exposure=l/this.imageWidth*100,this.slide(0)}slideToPageY(o){const l=o-this.getBoundingClientRect().top-window.scrollY;this.exposure=l/this.imageHeight*100,this.slide(0)}enableTransition(){this.firstElement.style.setProperty("--transition-time","100ms"),this.transitionTimer=window.setTimeout(()=>{this.firstElement.style.setProperty("--transition-time","var(--default-transition-time)"),this.transitionTimer=null},100)}startSlideAnimation(){let o=null,l=this.animationDirection;this.firstElement.style.setProperty("--transition-time","var(--keyboard-transition-time)");const d=u=>{if(this.animationDirection===0||l!==this.animationDirection)return;o===null&&(o=u);const g=(u-o)/16.666666666666668*this.animationDirection;this.slide(g),setTimeout(()=>window.requestAnimationFrame(d),0),o=u};window.requestAnimationFrame(d)}stopSlideAnimation(){this.animationDirection=0,this.firstElement.style.setProperty("--transition-time","var(--default-transition-time)")}}))})()})();const ee=K({name:"ImgComparisonSlider",setup(a,{slots:i}){return()=>W("img-comparison-slider",i.default())}});const te={name:"Compare",components:{ImgComparisonSlider:ee},props:{beforeImage:String,afterImage:String},setup(){return{}},data(){return{}}},ie=["src"],se=["src"];function oe(a,i,r,n,e,c){const m=Y("ImgComparisonSlider");return h(),Q(m,{class:"compare"},{default:M(()=>[t("img",{slot:"first",style:{width:"100%"},src:r.beforeImage},null,8,ie),t("img",{slot:"second",style:{width:"100%"},src:r.afterImage},null,8,se)]),_:1})}const ne=q(te,[["render",oe],["__scopeId","data-v-a18459a7"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));const ae={name:"Modal",data(){return{typeOfService:"furniture",furniture:{type:"sofa",count:1,seats:1,size:"small"},client:{name:"",phone:""},carpet:{width:"",length:"",type:"Синтетический ковер с коротким ворсом"},loading:!1}},methods:{carpetSchema(){return z({width:C().required(),length:C().required(),type:S().required()})},submitForm(){this.loading=!0;let a;this.typeOfService=="furniture"&&(this.furniture.type=="chair"&&(a=z({type:S().required(),count:C().required()})),(this.furniture.type=="sofa"||this.furniture.type=="matress")&&(a=z({type:S().required(),seats:C().required(),size:S().required()})),a.validate(this.furniture,{abortEarly:!1}).then(i=>{let r="";if(i.type=="chair")r+=`Новая заявка на химчистку стула/кресла!
`,r+=`Количество предметов: ${i.count}`;else{r+=i.type=="sofa"?`Новая заявка на химчистку дивана!
`:`Новая заявка на химчистку матраца!
`,r+=`Количество мест: ${i.seats}
`;let n=i.size=="small"?"Малый":i.size=="medium"?"Средний":"Большой";r+=i.type=="sofa"?`Размер: ${n}`:""}r+=`

`,r+=`Имя: ${this.client.name}
`,r+=`Телефон: ${this.client.phone}`,axios.post("/api/action/send-order-data",{message:r}).then(n=>{this.resetModal(),$("#requestModal").modal("hide")}).catch(n=>{console.log(n)}).finally(()=>this.loading=!1)}).catch(i=>{console.log(i)})),this.typeOfService=="carpet"&&this.carpetSchema().validate(this.carpet,{abortEarly:!1}).then(r=>{let n=`Новая заявка на химчистку ковра!
`;n+=`Ширина: ${r.width}
`,n+=`Длина: ${r.length}
`,n+=`Тип ковра: ${r.type}`,n+=`

`,n+=`Имя: ${this.client.name}
`,n+=`Телефон: ${this.client.phone}`,axios.post("/api/action/send-order-data",{message:n}).then(e=>{this.resetModal()}).catch(e=>{console.log(e)}).finally(()=>this.loading=!1)}).catch(r=>{console.log(r)})},resetModal(){this.typeOfService="furniture",this.furniture={type:"sofa",count:1,seats:1,size:"small"},this.client={name:"",phone:""},this.carpet={width:"",length:"",type:"Синтетический ковер с коротким ворсом"},setTimeout(()=>{this.$refs.closeBtn.click()},500)}}},f=a=>(F("data-v-1129d26c"),a=a(),V(),a),le={class:"modal fade",id:"requestModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},de={class:"modal-dialog modal-dialog-centered modal-lg"},ce={class:"modal-content"},ue={class:"modal-header"},he=f(()=>t("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Оставить заявку на оказание услуги",-1)),me={type:"button",class:"btn-close","data-bs-dismiss":"modal",ref:"closeBtn","aria-label":"Close"},pe={class:"modal-body overflow-hidden"},fe={class:"row"},ve={class:"col"},ge=f(()=>t("p",{class:"fw-bold text-dark mb-2"},"Какая услуга вас интересует?",-1)),be={class:"form-group"},_e=f(()=>t("label",{for:"name",class:"form-label d-block mb-1"},"Услуга",-1)),ye={class:"btn-group mb-3"},we={key:0},ke={class:"form-group"},xe=f(()=>t("label",{for:"name",class:"form-label d-block mb-1"},"Тип мебели",-1)),Se={class:"btn-group mb-3"},Te={key:0,class:"form-group"},Ee=f(()=>t("label",{for:"count",class:"form-label d-block mb-1"},"Количество предметов",-1)),De={class:"d-flex"},Ce=["disabled"],ze={type:"text",class:"form-control w-25 text-center rounded-0",style:{"border-color":"rgb(9, 189, 150)",height:"30px"}},Me=["disabled"],Le={key:1,class:"mb-3"},Ie={class:"form-group mb-3"},je=f(()=>t("label",{for:"count",class:"form-label d-block mb-1"},"Количество мест",-1)),Oe={class:"d-flex"},qe=["disabled"],Ae={type:"text",class:"form-control w-25 text-center rounded-0",id:"count",style:{"border-color":"rgb(9, 189, 150)",height:"30px"}},Pe=["disabled"],He={key:0,class:"form-group overflow-hidden"},Ue=f(()=>t("label",{for:"size",class:"form-label d-block mb-1"},"Размер",-1)),Be={class:"btn-group mb-3"},Fe={key:1},$e={class:"row"},Ve={class:"col"},Ke={class:"form-group"},We=f(()=>t("label",{for:"name",class:"form-label d-block mb-1"},"Ширина ковра",-1)),Ye=["disabled"],Qe={class:"col"},Xe={class:"form-group"},Ne=f(()=>t("label",{for:"name",class:"form-label d-block mb-1"},"Длина ковра",-1)),Re=["disabled"],Ze={class:"row"},Ge={class:"col"},Je={class:"form-group"},et=f(()=>t("label",{for:"name",class:"form-label d-block mb-1"},"Количество ковров",-1)),tt=["disabled"],it=N('<option value="Синтетический ковер с коротким ворсом" data-v-1129d26c>Синтетический ковер с коротким ворсом</option><option value="Шерстяной ковер с коротким ворсом" data-v-1129d26c>Шерстяной ковер с коротким ворсом</option><option value="Ковер с высоким ворсом(шегги)" data-v-1129d26c>Ковер с высоким ворсом(шегги)</option><option value="Ковролин с низким ворсом" data-v-1129d26c>Ковролин с низким ворсом</option><option value="Ковролин с высоким ворсом" data-v-1129d26c>Ковролин с высоким ворсом</option>',5),st=[it],ot={class:"col"},nt=f(()=>t("p",{class:"fw-bold text-dark mb-2"},"Контактные данные:",-1)),rt={class:"form-group"},at=f(()=>t("label",{for:"phone",class:"form-label"},"Имя",-1)),lt=["disabled"],dt={class:"form-group"},ct=f(()=>t("label",{for:"phone",class:"form-label"},"Телефон",-1)),ut=["disabled"],ht={class:"modal-footer"},mt=["disabled"],pt={key:0},ft=f(()=>t("i",{class:"fa fa-spinner fa-spin"},null,-1)),vt={key:1};function gt(a,i,r,n,e,c){const m=U("maska");return h(),p("div",le,[t("div",de,[t("div",ce,[t("div",ue,[he,t("button",me,null,512)]),t("form",{onSubmit:i[17]||(i[17]=B((...s)=>c.submitForm&&c.submitForm(...s),["prevent"]))},[t("div",pe,[t("div",fe,[t("div",ve,[ge,t("div",be,[_e,t("div",ye,[t("button",{class:b([{active:e.typeOfService=="furniture"},"btn btn-sm btn-outline-primary"]),type:"button",onClick:i[0]||(i[0]=s=>e.typeOfService="furniture")},"Химчистка мебели",2),t("button",{class:b([{active:e.typeOfService=="carpet"},"btn btn-sm btn-outline-primary"]),type:"button",onClick:i[1]||(i[1]=s=>e.typeOfService="carpet")},"Химчистка ковров",2)])]),e.typeOfService=="furniture"?(h(),p("div",we,[t("div",ke,[xe,t("div",Se,[t("button",{type:"button",class:b(["btn btn-sm btn-outline-primary",{active:e.furniture.type=="sofa"}]),onClick:i[2]||(i[2]=s=>e.furniture.type="sofa")},"Диван",2),t("button",{type:"button",class:b(["btn btn-sm btn-outline-primary",{active:e.furniture.type=="chair"}]),onClick:i[3]||(i[3]=s=>e.furniture.type="chair")},"Стул/ Кресло",2),t("button",{type:"button",class:b(["btn btn-sm btn-outline-primary",{active:e.furniture.type=="matress"}]),onClick:i[4]||(i[4]=s=>e.furniture.type="matress")},"Матрац",2)])]),j(H,{"enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutLeft",mode:"out-in"},{default:M(()=>[e.furniture.type=="chair"?(h(),p("div",Te,[Ee,t("div",De,[t("button",{type:"button",disabled:e.furniture.count==1,class:"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"30px","border-radius":"5px 0 0 5px"},onClick:i[5]||(i[5]=s=>e.furniture.count--)},"-",8,Ce),t("span",ze,E(e.furniture.count),1),t("button",{type:"button",disabled:e.furniture.count==10,class:"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"30px","border-radius":"0 5px 5px 0"},onClick:i[6]||(i[6]=s=>e.furniture.count++)},"+",8,Me)])])):e.furniture.type=="sofa"||e.furniture.type=="matress"?(h(),p("div",Le,[t("div",Ie,[je,t("div",Oe,[t("button",{type:"button",disabled:e.furniture.seats==1,class:"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"30px","border-radius":"5px 0 0 5px"},onClick:i[7]||(i[7]=s=>e.furniture.seats--)},"-",8,qe),t("span",Ae,E(e.furniture.seats),1),t("button",{type:"button",disabled:e.furniture.seats==10,class:"btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center",style:{width:"40px",height:"30px","border-radius":"0 5px 5px 0"},onClick:i[8]||(i[8]=s=>e.furniture.seats++)},"+",8,Pe)])]),j(H,{"enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutLeft",mode:"out-in"},{default:M(()=>[e.furniture.type=="sofa"?(h(),p("div",He,[Ue,t("div",Be,[t("button",{type:"button",class:b(["btn btn-sm btn-outline-primary",{active:e.furniture.size=="small"}]),onClick:i[9]||(i[9]=s=>e.furniture.size="small")},"Малый",2),t("button",{type:"button",class:b(["btn btn-sm btn-outline-primary",{active:e.furniture.size=="medium"}]),onClick:i[10]||(i[10]=s=>e.furniture.size="medium")},"Средний",2),t("button",{type:"button",class:b(["btn btn-sm btn-outline-primary",{active:e.furniture.size=="large"}]),onClick:i[11]||(i[11]=s=>e.furniture.size="large")},"Большой",2)])])):x("",!0)]),_:1})])):x("",!0)]),_:1})])):(h(),p("div",Fe,[t("div",$e,[t("div",Ve,[t("div",Ke,[We,y(t("input",{type:"text",class:"form-control",id:"name",required:"",oninput:"this.value = this.value.replace(/[^0-9,.]/g, '')","onUpdate:modelValue":i[12]||(i[12]=s=>e.carpet.width=s),disabled:e.loading},null,8,Ye),[[k,e.carpet.width]])])]),t("div",Qe,[t("div",Xe,[Ne,y(t("input",{type:"text",class:"form-control",id:"name",required:"",oninput:"this.value = this.value.replace(/[^0-9,.]/g, '')","onUpdate:modelValue":i[13]||(i[13]=s=>e.carpet.length=s),disabled:e.loading},null,8,Re),[[k,e.carpet.length]])])])]),t("div",Ze,[t("div",Ge,[t("div",Je,[et,y(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":i[14]||(i[14]=s=>e.carpet.type=s),disabled:e.loading},st,8,tt),[[X,e.carpet.type]])])])])]))]),t("div",ot,[nt,t("div",rt,[at,y(t("input",{type:"text",class:"form-control",id:"phone",required:"","onUpdate:modelValue":i[15]||(i[15]=s=>e.client.name=s),disabled:e.loading},null,8,lt),[[k,e.client.name]])]),t("div",dt,[ct,y(t("input",{type:"text",class:"form-control",id:"phone","onUpdate:modelValue":i[16]||(i[16]=s=>e.client.phone=s),"data-maska":"+7 (###) ###-##-##",required:"",disabled:e.loading},null,8,ut),[[k,e.client.phone],[m]])])])])]),t("div",ht,[t("button",{type:"submit",class:"btn btn-primary",disabled:e.loading},[e.loading?(h(),p("span",pt,[ft,O(" Отправка... ")])):(h(),p("span",vt,"Отправить"))],8,mt)])],32)])])])}const bt=q(ae,[["render",gt],["__scopeId","data-v-1129d26c"]]),_t=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}));const yt={name:"QuizCleanKirov",mounted(){this.restartQuiz(),setTimeout(()=>{this.dynamicHeight=this.$refs.quizStep1.offsetHeight+"px"},300)},data(){return{furnitureType:this.getFurnitureType(),furnitureSize:this.getFurnitureSize(),additionalInfo:this.getAdditionalInfo(),currentStep:1,orderData:{additionalInfo:[]},dynamicHeight:"auto",formSchema:z({name:S().required("Имя обязательно"),phone:S().required("Телефон обязателен").min(18,"Телефон должен быть валидным")}),formErrors:[],loading:!1}},computed:{},methods:{getFurnitureType(){return[{title:"Химчистка мебели",type:"sofa",image:"/sites/assets/cleankirov/images/u1.jpg"},{title:"Химчистка матрасов",type:"mattress",image:"/sites/assets/cleankirov/images/u4.jpg"},{title:"Химчистка стульев/кресел",type:"chair",image:"/sites/assets/cleankirov/images/u3.jpg"},{title:"Химчистка ковров",type:"carpet",image:"/sites/assets/cleankirov/images/u2.jpg"}]},getFurnitureSize(){return{sofa:[{title:"2-х местный диван(~120 см)",value:"small",image:"/sites/assets/cleankirov/images/u5.jpg"},{title:"Трехместный диван, нераскладной (~180 см)",value:"medium",image:"/sites/assets/cleankirov/images/u6.jpg"},{title:"Диван-книжка (~200 см)",value:"large",image:"/sites/assets/cleankirov/images/u7.jpg"},{title:"Угловой диван с выдвижным спальным местом",value:"extra-large",image:"/sites/assets/cleankirov/images/u8.jpg"},{title:"Диван двухместный с выдвижным спальным местом",value:"extra-large",image:"/sites/assets/cleankirov/images/u9.jpg"},{title:"Трехместный диван с раскладным матрасом (матрас тоже нужно чистить)",value:"extra-large",image:"/sites/assets/cleankirov/images/u10.jpg"},{title:"П-образный диван или любой другой более 5 посадочных мест",value:"extra-large",image:"/sites/assets/cleankirov/images/u11.jpg"}],mattress:[{title:"Односпальный матрас (шириной до 80 см)",value:"small",image:"/sites/assets/cleankirov/images/u12.jpg"},{title:"Полуторный матрас (шириной до 120 см)",value:"medium",image:"/sites/assets/cleankirov/images/u13.jpg"},{title:"Двуспальный матрас (шириной до 160 см)",value:"large",image:"/sites/assets/cleankirov/images/u14.jpg"},{title:"King size (ширина 180-220 см)",value:"extra-large",image:"/sites/assets/cleankirov/images/u15.jpg"},{title:"Матрас грудничка (в люльку)",value:"extra-large",image:"/sites/assets/cleankirov/images/u16.jpg"}],chair:[{title:"Стул с деревянной спинкой",value:"small",image:"/sites/assets/cleankirov/images/u17.jpg"},{title:"Стул с тканевым сидением и спинкой",value:"small",image:"/sites/assets/cleankirov/images/u18.jpg"},{title:"Кресло стандартных размеров",value:"small",image:"/sites/assets/cleankirov/images/u19.jpg"},{title:"Объемное кресло",value:"small",image:"/sites/assets/cleankirov/images/u20.jpg"},{title:"Компьютерное кресло",value:"small",image:"/sites/assets/cleankirov/images/u21.jpg"}],carpet:[{title:"Синтетический ковер с коротким ворсом",value:"small",image:"/sites/assets/cleankirov/images/u22.jpg"},{title:"Шерстяной ковер с коротким ворсом",value:"medium",image:"/sites/assets/cleankirov/images/u23.jpg"},{title:"Ковер с высоким ворсом (шегги)",value:"large",image:"/sites/assets/cleankirov/images/u24.jpg"},{title:"Ковролин с коротким ворсом",value:"extra-large",image:"/sites/assets/cleankirov/images/u25.jpg"},{title:"Ковролин с высоким ворсом",value:"extra-large",image:"/sites/assets/cleankirov/images/u26.jpg"}]}},getAdditionalInfo(){return[{title:"Пыль",value:"dust",val_ru:"Пыль"},{title:"Грязь",value:"dirt",val_ru:"Грязь"},{title:"Кровь",value:"blood",val_ru:"Кровь"},{title:"Краска",value:"paint",val_ru:"Краска"},{title:"Чернила",value:"ink",val_ru:"Чернила"},{title:"Пластилин или лизун",value:"putty_or_slime",val_ru:"Пластилин или лизун"},{title:"Моча",value:"urine",val_ru:"Моча"},{title:"Плесень",value:"mold",val_ru:"Плесень"}]},restartQuiz(){this.currentStep=1,this.furnitureType=this.getFurnitureType(),this.furnitureSize=this.getFurnitureSize(),this.additionalInfo=this.getAdditionalInfo(),this.orderData={additionalInfo:[]}},manageAdditionalInfo(a){this.orderData.additionalInfo.findIndex(i=>i===a)===-1?this.orderData.additionalInfo.push(a):this.orderData.additionalInfo=this.orderData.additionalInfo.filter(i=>i!==a)},sendOrderData(){this.loading=!0,this.formErrors=[],this.formSchema.validate(this.orderData,{abortEarly:!1}).then(a=>{let i=`Новая заявка из квиза!\r
`;i+=`Тип мебели: ${this.orderData.furnitureType}\r
`,i+=`Размер мебели: ${this.orderData.furnitureSize}\r
`,this.orderData.additionalInfo.length>0&&(i+=`Дополнительные загрязнения: ${this.orderData.additionalInfo.join(", ")}\r
`),i+=`\r
\r
`,i+=`Имя: ${a.name}
`,i+=`Телефон: ${a.phone}
`,axios.post("/api/action/send-order-data",{message:i}).then(r=>{console.log(r),this.restartQuiz()}).catch(r=>{console.log(r)}).finally(()=>this.loading=!1)}).catch(a=>{this.formErrors=a.inner.map(i=>i.path)})},updateInputs(){let a=this.$refs.quizStep4.querySelectorAll("input");a.length>0&&a.forEach(i=>{i.classList.remove("is-invalid"),this.formErrors.findIndex(r=>r===i.id)!==-1&&i.classList.add("is-invalid")})}},watch:{currentStep(){this.$nextTick(()=>{setTimeout(()=>{this.dynamicHeight=this.$refs[`quizStep${this.currentStep}`].offsetHeight+"px"},100)})},formErrors(){this.updateInputs(),console.log(this.formErrors)}}},T=a=>(F("data-v-46aae3e2"),a=a(),V(),a),wt={key:0,class:"row row-cols-3 row-cols-md-4 g-3",ref:"quizStep1"},kt=["onClick"],xt=["src"],St={class:"text-light"},Tt={key:1,class:"row row-cols-3 row-cols-md-4 g-3",ref:"quizStep2"},Et=["onClick"],Dt=["src"],Ct={class:"text-light"},zt={key:2,class:"row",ref:"quizStep3"},Mt={class:"col-12 mb-4"},Lt=T(()=>t("p",{class:"text-light"},"Укажите, какие дополнительные загрязнения присутствуют",-1)),It={class:"d-flex flex-wrap gap-2"},jt=["id","onClick"],Ot=["for"],qt={class:"col-12"},At={key:3,class:"row",ref:"quizStep4"},Pt={class:"col-12 col-md-6"},Ht=T(()=>t("h5",{class:"text-light"},"Оставьте контактные данные и мы свяжемся с вами для уточнения деталей заказа",-1)),Ut={class:"form-group mb-3"},Bt=T(()=>t("label",{for:"name",class:"form-label"},"Имя",-1)),Ft=["disabled"],$t={class:"form-group mb-3"},Vt=T(()=>t("label",{for:"phone",class:"form-label"},"Телефон",-1)),Kt=["disabled"],Wt={class:"d-flex gap-2 mb-3"},Yt=["disabled"],Qt={key:0},Xt=T(()=>t("i",{class:"fa fa-spinner fa-spin"},null,-1)),Nt={key:1},Rt=T(()=>t("i",{class:"fa fa-arrow-left"},null,-1));function Zt(a,i,r,n,e,c){const m=U("maska");return h(),p("div",{class:"quiz-container",ref:"quizContainer",style:Z({height:e.dynamicHeight})},[j(R,{"enter-active-class":"animate__animated animate__fadeInRight","leave-active-class":"animate__animated animate__fadeOutLeft"},{default:M(()=>[e.currentStep===1?(h(),p("div",wt,[(h(!0),p(L,null,I(e.furnitureType,s=>(h(),p("div",{class:"col",key:s.title},[t("div",{class:"quiz-item cursor-pointer",onClick:v=>{e.currentStep=2,e.orderData.furnitureType=s.title,e.furnitureType=s.type}},[t("img",{src:s.image,alt:"",class:"img-fluid rounded"},null,8,xt),t("h5",St,E(s.title),1)],8,kt)]))),128))],512)):x("",!0),e.currentStep===2?(h(),p("div",Tt,[(h(!0),p(L,null,I(e.furnitureSize[e.furnitureType],s=>(h(),p("div",{class:"col",key:s},[t("div",{class:"quiz-item cursor-pointer",onClick:v=>{e.currentStep=3,e.orderData.furnitureSize=s.title}},[t("img",{src:s.image,alt:"",class:"img-fluid rounded"},null,8,Dt),t("h5",Ct,E(s.title),1)],8,Et)]))),128))],512)):x("",!0),e.currentStep===3?(h(),p("div",zt,[t("div",Mt,[Lt,t("div",It,[(h(!0),p(L,null,I(e.additionalInfo,s=>(h(),p("div",{key:s},[t("input",{type:"checkbox",class:"btn-check",id:s.value,autocomplete:"off",onClick:v=>c.manageAdditionalInfo(s.val_ru)},null,8,jt),t("label",{class:"btn btn-outline-primary",for:s.value},E(s.val_ru),9,Ot)]))),128))])]),t("div",qt,[t("button",{class:"btn btn-outline-light",onClick:i[0]||(i[0]=s=>e.currentStep=4)},"Далее")])],512)):x("",!0),e.currentStep===4?(h(),p("div",At,[t("div",Pt,[Ht,t("form",{onSubmit:i[4]||(i[4]=B((...s)=>c.sendOrderData&&c.sendOrderData(...s),["prevent"]))},[t("div",Ut,[Bt,y(t("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":i[1]||(i[1]=s=>e.orderData.name=s),disabled:e.loading},null,8,Ft),[[k,e.orderData.name]])]),t("div",$t,[Vt,y(t("input",{type:"text",class:"form-control",id:"phone","data-maska":"+7 (###) ###-##-##","onUpdate:modelValue":i[2]||(i[2]=s=>e.orderData.phone=s),disabled:e.loading},null,8,Kt),[[m],[k,e.orderData.phone]])]),t("div",Wt,[t("button",{class:"btn btn-light",disabled:e.loading},[e.loading?(h(),p("span",Qt,[Xt,O(" Отправка... ")])):(h(),p("span",Nt,"Отправить"))],8,Yt),t("button",{class:"btn btn-outline-light",type:"button",onClick:i[3]||(i[3]=s=>c.restartQuiz())},[Rt,O(" В начало ")])])],32)])],512)):x("",!0)]),_:1})],4)}const Gt=q(yt,[["render",Zt],["__scopeId","data-v-46aae3e2"]]),Jt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),A=G({data(){return{observer:null,sections:null}},mounted(){this.init()},methods:{init(){console.log("cleankirov app init");const a=document.querySelector("#header");window.addEventListener("scroll",()=>{window.scrollY>100?a.classList.add("header-scrolled"):a.classList.remove("header-scrolled")}),window.addEventListener("DOMContentLoaded",()=>{if(this.sections=document.querySelectorAll("section"),this.sections.length===0){console.error("No sections found to observe.");return}this.sections.forEach(i=>{i.style.opacity=0}),this.observer=new IntersectionObserver(i=>{i.forEach(r=>{if(r.isIntersecting){let n=r.target;n.classList.contains("animate__animated")||(n.style.opacity=1,n.querySelector(".container").classList.add("animate__animated","animate__fadeInUp"))}})},{root:null,rootMargin:"0px",threshold:.1}),this.sections.forEach(i=>{this.observer.observe(i)})})}}});A.directive("maska",J);Object.entries(Object.assign({"./Compare.vue":re,"./Modal.vue":_t,"./QuizCleanKirov.vue":Jt})).forEach(([a,i])=>{A.component(a.split("/").pop().replace(/\.\w+$/,""),i.default)});A.mount("#app");
